<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOG Model Context Protocol (MCP) Learning App</title>
    <link rel="stylesheet" href="src/styles.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="api-key-container">
                <label for="openai-key">OpenAI API Key:</label>
                <input type="password" id="openai-key" placeholder="Enter your OpenAI API key">
                <button id="save-api-key" class="save-button">Save</button>
            </div>
        </div>
    </header>

    <!-- No settings modal needed anymore as API key input is in the header -->
    <main>

        <section id="interactive-demo">
            <h2 id="demo-section-title">Interactive Demo of an IOG Model Context Protocol (MCP)</h2>
            <div id="demo-container">
                <div id="model-side">
                    <h3 id="model-title">OpenAI Model</h3>
                    <div id="model-prompt">
                        <textarea placeholder="Enter a prompt that might require external tools..."></textarea>
                        <div class="button-group">
                            <button id="send-prompt">Send</button>
                            <button id="refresh-prompt" title="Start a new query">↻ New Query</button>
                        </div>
                        
                        <h3>Global Memory</h3>
                        <div id="global-memory-container">
                            <div class="memory-item" data-memory="active">
                                <div class="memory-header">
                                    <h4>Active Memory</h4>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="memory-toggle">
                                        <label for="memory-toggle"></label>
                                    </div>
                                </div>
                                <p>Always inject key executive info into context window</p>
                                <div class="memory-status"></div>
                                <div id="memory-contents">
                                    <div class="memory-entry">
                                        <span class="memory-name">Charles Hoskinson</span>
                                        <span class="memory-position">CEO & Founder</span>
                                    </div>
                                    <div class="memory-entry">
                                        <span class="memory-name">Tamara Haasen</span>
                                        <span class="memory-position">President</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="mcp-side">
                    <div class="tools-section">
                        <h3>Tools</h3>
                        <div class="tools-container">
                            <div class="tool" data-tool="calculator">
                                <div class="tool-header">
                                    <h4>Calculator</h4>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="calculator-toggle" class="tool-toggle">
                                        <label for="calculator-toggle"></label>
                                    </div>
                                </div>
                                <p>Performs complex calculations</p>
                                <div class="tool-status"></div>
                            </div>
                            <div class="tool" data-tool="search">
                                <div class="tool-header">
                                    <h4>Search</h4>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="search-toggle" class="tool-toggle">
                                        <label for="search-toggle"></label>
                                    </div>
                                </div>
                                <p>Searches for information</p>
                                <div class="tool-status"></div>
                            </div>
                            <div class="tool" data-tool="crypto-price">
                                <div class="tool-header">
                                    <h4>Crypto Pricing</h4>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="crypto-toggle" class="tool-toggle">
                                        <label for="crypto-toggle"></label>
                                    </div>
                                </div>
                                <p>Get cryptocurrency prices and calculate staking returns</p>
                                <div class="tool-status"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="data-side">
                        <h3>Data Sources</h3>
                        <div id="data-sources-list">
                            <div class="data-source" data-source="iog-personas">
                                <div class="source-header">
                                    <h4>Personas</h4>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="personas-toggle" class="source-toggle">
                                        <label for="personas-toggle"></label>
                                    </div>
                                </div>
                                <p>IOG user persona profiles</p>
                                <div class="source-status"></div>
                            </div>
                            <div class="data-source" data-source="iog-products">
                                <div class="source-header">
                                    <h4>Products</h4>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="products-toggle" class="source-toggle">
                                        <label for="products-toggle"></label>
                                    </div>
                                </div>
                                <p>IOG product portfolio</p>
                                <div class="source-status"></div>
                            </div>
                            <div class="data-source" data-source="iog-executives">
                                <div class="source-header">
                                    <h4>Executives</h4>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="executives-toggle" class="source-toggle">
                                        <label for="executives-toggle"></label>
                                    </div>
                                </div>
                                <p>IOG executive leadership team</p>
                                <div class="source-status"></div>
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Hidden but required for JavaScript functionality -->
                    <div id="tool-output" style="display: none;"></div>
                </div>
                <div id="steps-side">
                    <h3>Step Tracker</h3>
                    <div id="step-tracker-container">
                        <!-- Step tracker content will be inserted here by JavaScript -->
                    </div>
                </div>
                <div id="analysis-side">
                    <h3>Analysis & Results</h3>
                    <div id="model-thinking"></div>
                    <div id="final-answer-container"></div>
                </div>
            </div>
        </section>

        <section id="concept-details" class="hidden">
            <button id="back-button">← Back to Concepts</button>
            <div id="concept-content"></div>
        </section>
    </main>
    <footer>
        <p>MCP Learning App - Created for educational purposes</p>
    </footer>
    <script src="src/crypto-helpers.js"></script>
    <script src="src/app.js"></script>
</body>
</html>